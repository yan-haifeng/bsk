(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/secondary/order-details"],{"23ba":function(a,t,e){"use strict";(function(a){e("5399"),e("921b");r(e("66fd"));var t=r(e("3303"));function r(a){return a&&a.__esModule?a:{default:a}}a(t.default)}).call(this,e("6e42")["createPage"])},3303:function(a,t,e){"use strict";e.r(t);var r=e("b125"),s=e("be04");for(var d in s)"default"!==d&&function(a){e.d(t,a,function(){return s[a]})}(d);e("5b1f");var n=e("2877"),i=Object(n["a"])(s["default"],r["a"],r["b"],!1,null,null,null);t["default"]=i.exports},"5b1f":function(a,t,e){"use strict";var r=e("a962"),s=e.n(r);s.a},a962:function(a,t,e){},b125:function(a,t,e){"use strict";var r=function(){var a=this,t=a.$createElement;a._self._c},s=[];e.d(t,"a",function(){return r}),e.d(t,"b",function(){return s})},b85d:function(a,t,e){"use strict";(function(a,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(){return e.e("components/uni-nav-bar/uni-nav-bar").then(e.bind(null,"07f2"))},d=function(){return e.e("components/popup-layer/popup-layer").then(e.bind(null,"eadf"))},n={data:function(){return{carInfomation:[],num:0,price:0,time:"请选择",httpDataUrl:this.$httpUrl.dataUrl,httpStaticUrl:this.$httpUrl.staticUrl,addressName:"请先添加联系人",addressTel:"手机号",addressLocation:"请先添加地址",addressId:0,addressList:[]}},components:{uniNavBar:s,popupLayer:d},methods:{toBack:function(){a.navigateBack({delta:1})},showMaintain:function(){a.showToast({title:"该功能维护中",icon:"none"})},toDaelitime:function(){a.navigateTo({url:"deliverytime"})},showPopup:function(){this.$refs.popupRef.show()},rowClick:function(a){this.addressName=a.addressName,this.addressTel=a.addressPhone,this.addressLocation=a.addressInfo+" "+a.addressDetail,this.addressId=a.addressId,this.$refs.popupRef.close()},subOrder:function(){for(var t=this,e=this.carInfomation[0].carId,r=1;r<this.carInfomation.length;r++)e=e+"?"+this.carInfomation[r].carId;if("请选择"!=this.time)if(0!=this.addressId){var s={orderCarid:e,orderUserid:this.$User.user.userId,orderDeliverytime:this.time,orderPrice:this.price,orderDiscount:0,orderAddressid:this.addressId};a.showLoading({title:"正在提交订单..."}),a.request({url:this.httpDataUrl+"/cakeOrder/addCakeOrderInfo",data:s,success:function(e){0==e.data.code&&(t.$Order.addOrder(e.data.data[0]),a.hideLoading(),a.redirectTo({url:"payment?amount="+(parseInt(t.price)+parseInt(30))+"&orderName="+e.data.data[0].orderNo}))}})}else a.showToast({title:"请选择配送地址",icon:"none"});else a.showToast({title:"请选择配送时间",icon:"none"})}},onLoad:function(){var t=this;this.carInfomation=this.$cakeCar.car;for(var e=0,s=0,d=0;d<this.carInfomation.length;d++)s+=parseInt(this.carInfomation[d].carNum),e+=parseInt(this.carInfomation[d].cakeSpecsList[0].cakespecsPrice)*parseInt(this.carInfomation[d].carNum);this.num=s,this.price=e,a.request({url:this.httpDataUrl+"/address/getAllAddressByUserId?addressUserid="+this.$User.user.userId,success:function(a){console.log(r(a," at pages\\secondary\\order-details.vue:293")),0==a.data.code&&(t.addressList=a.data.data,t.addressName=a.data.data[0].addressName,t.addressTel=a.data.data[0].addressPhone,t.addressLocation=a.data.data[0].addressInfo+" "+a.data.data[0].addressDetail,t.addressId=a.data.data[0].addressId)}})}};t.default=n}).call(this,e("6e42")["default"],e("0de9")["default"])},be04:function(a,t,e){"use strict";e.r(t);var r=e("b85d"),s=e.n(r);for(var d in r)"default"!==d&&function(a){e.d(t,a,function(){return r[a]})}(d);t["default"]=s.a}},[["23ba","common/runtime","common/vendor"]]]);