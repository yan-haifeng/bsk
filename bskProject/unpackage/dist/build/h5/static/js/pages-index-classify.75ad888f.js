(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-classify"],{"13ab":function(t,e,a){"use strict";var i=a("7458"),n=a.n(i);n.a},"28a8":function(t,e,a){"use strict";a.r(e);var i=a("80ab"),n=a("39c6");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("13ab");var o=a("2877"),c=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"f7f59fec",null);e["default"]=c.exports},"339b":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c5f6");var i={name:"wuc-tab",data:function(){return{}},props:{tabList:{type:Array,default:function(){return[]}},tabCur:{type:Number,default:function(){return 0}},tabClass:{type:String,default:function(){return""}},tabStyle:{type:String,default:function(){return""}},textFlex:{type:Boolean,default:function(){return!1}},selectClass:{type:String,default:function(){return"text-blue"}}},methods:{tabSelect:function(t,e){if(this.currentTab===t)return!1;this.$emit("update:tabCur",t),this.$emit("change",t)}},computed:{scrollLeft:function(){return 60*(this.tabCur-1)}}};e.default=i},"389e":function(t,e,a){"use strict";var i=a("f885"),n=a.n(i);n.a},"39c6":function(t,e,a){"use strict";a.r(e);var i=a("e1b4"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=n.a},"47c3":function(t,e,a){"use strict";a.r(e);var i=a("af29"),n=a("63d9");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("389e");var o=a("2877"),c=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"7c3e87a4",null);e["default"]=c.exports},"58c8":function(t,e,a){"use strict";var i=a("d2f3"),n=a.n(i);n.a},"63d9":function(t,e,a){"use strict";a.r(e);var i=a("8fcc"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=n.a},6704:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"div[data-v-d2a15a2e],uni-scroll-view[data-v-d2a15a2e],uni-swiper[data-v-d2a15a2e]{display:block;font-size:%?35?%;-webkit-box-sizing:border-box;box-sizing:border-box}.wuc-tab[data-v-d2a15a2e]{float:left;width:%?600?%;white-space:nowrap}.wuc-tab-item[data-v-d2a15a2e]{height:%?90?%;display:inline-block;line-height:%?90?%;margin:0 %?10?%;padding:0 %?20?%}.wuc-tab-item .cur[data-v-d2a15a2e]{-webkit-box-sizing:border-box;box-sizing:border-box;padding:%?15?% 0;border-bottom:%?10?% solid}.wuc-tab.fixed[data-v-d2a15a2e]{position:fixed;width:100%;top:0;z-index:1024;-webkit-box-shadow:0 %?1?% %?6?% rgba(0,0,0,.1);box-shadow:0 %?1?% %?6?% rgba(0,0,0,.1)}.flex[data-v-d2a15a2e]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.text-center[data-v-d2a15a2e]{text-align:center}.flex-sub[data-v-d2a15a2e]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.text-blue[data-v-d2a15a2e]{color:#0081ff}.text-white[data-v-d2a15a2e]{color:#fff}.bg-white[data-v-d2a15a2e]{background-color:#fff}.bg-blue[data-v-d2a15a2e]{background-color:#0081ff}.text-orange[data-v-d2a15a2e]{color:#f37b1d}.text-pink[data-v-d2a15a2e]{color:#ff1850}.text-xl[data-v-d2a15a2e]{font-size:%?35?%}",""])},7458:function(t,e,a){var i=a("b875");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("3c0f6108",i,!0,{sourceMap:!1,shadowMode:!1})},"80ab":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("uni-nav-bar",{attrs:{id:"header",fixed:"true",paddingTop:"0",borderTop:"20px solid #fff"}},[a("v-uni-view",{attrs:{slot:"left"},slot:"left"},[a("wuc-tab",{attrs:{"tab-list":t.tabList1,tabCur:t.TabCur1,"tab-class":"text-center text-black bg-white","select-class":"text-pink text-xl"},on:{change:function(e){e=t.$handleEvent(e),t.tabChange1(e)}}})],1),a("v-uni-view",{attrs:{slot:"right"},slot:"right"},[a("v-uni-image",{staticStyle:{width:"40upx",height:"40upx",position:"relative",top:"10upx"},attrs:{src:"../../static/search.png",mode:"widthFix"}})],1)],1),a("v-uni-view",{staticStyle:{height:"90upx"}},[a("wuc-tab1",{staticStyle:{position:"fixed","z-index":"100"},attrs:{id:"header1","tab-list":t.tabList2,tabCur:t.TabCur2,"tab-class":"text-left text-black bg-white","select-class":"text-white text-xl"},on:{change:function(e){e=t.$handleEvent(e),t.tabChange2(e)}}})],1),a("v-uni-swiper",{staticClass:"swiper",style:{height:t.scrollviewHigh+"px"},attrs:{current:t.TabCur1,duration:"300",circular:!0,"indicator-color":"rgba(255,255,255,0)","indicator-active-color":"rgba(255,255,255,0)"},on:{change:function(e){e=t.$handleEvent(e),t.swiperChange1(e)}}},t._l(t.tabList1,function(e,i){return a("v-uni-swiper-item",{key:i,staticClass:"swiper-item"},[a("mescroll-uni",{staticStyle:{height:"auto"},attrs:{bottom:"0px",down:t.downOption,up:t.upOption[0]},on:{down:function(e){e=t.$handleEvent(e),t.downCallback(e)},up:function(e){e=t.$handleEvent(e),t.upCallback(e)}}},[a("v-uni-view",{staticClass:"cake-card-mini-box",staticStyle:{padding:"0 30upx","box-sizing":"border-box"}},t._l(t.New[t.TabCur1],function(e,i){return a("cake-card-mini",{key:i,attrs:{cake:e},on:{PupopOpen:function(e){e=t.$handleEvent(e),t.pupopOpen(e)}}})}),1)],1)],1)}),1),a("popup-layer",{ref:"popupRef",attrs:{direction:"top"}},[t.cakeInfomationOnShow?a("cake-infomation-bar",{ref:"infomationBar",attrs:{cakeInformation:t.cakeinfomation},on:{PupopClose:function(e){e=t.$handleEvent(e),t.pupopClose(e)}}}):t._e()],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},8264:function(t,e,a){"use strict";a.r(e);var i=a("339b"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=n.a},"8fcc":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c5f6");var i={name:"wuc-tab",data:function(){return{}},props:{tabList:{type:Array,default:function(){return[]}},tabCur:{type:Number,default:function(){return 0}},tabClass:{type:String,default:function(){return""}},tabStyle:{type:String,default:function(){return""}},textFlex:{type:Boolean,default:function(){return!1}},selectClass:{type:String,default:function(){return"text-blue"}}},methods:{tabSelect:function(t,e){if(this.currentTab===t)return!1;this.$emit("update:tabCur",t),this.$emit("change",t)}},computed:{scrollLeft:function(){return 60*(this.tabCur-1)}}};e.default=i},a531:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-scroll-view",{staticClass:"wuc-tab",class:t.tabClass,style:t.tabStyle,attrs:{"scroll-with-animation":"","scroll-x":"","scroll-left":t.scrollLeft}},[t.textFlex?t._e():a("div",t._l(t.tabList,function(e,i){return a("div",{key:i,staticClass:"wuc-tab-item",attrs:{id:i},on:{click:function(e){e=t.$handleEvent(e),t.tabSelect(i,e)}}},[a("v-uni-text",{class:e.icon}),a("span",{class:[i===t.tabCur?t.selectClass+" cur":""]},[t._v(t._s(e.cakeclassName))])],1)}),0),t.textFlex?a("div",{staticClass:"flex text-center"},t._l(t.tabList,function(e,i){return a("div",{key:i,staticClass:"wuc-tab-item flex-sub",class:i===t.tabCur?t.selectClass+" cur":"",attrs:{id:i},on:{click:function(e){e=t.$handleEvent(e),t.tabSelect(i,e)}}},[a("v-uni-text",{class:e.icon}),a("span",[t._v(t._s(e.cakeclassName))])],1)}),0):t._e()])},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},af29:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-scroll-view",{staticClass:"wuc-tab",class:t.tabClass,style:t.tabStyle,attrs:{"scroll-with-animation":"","scroll-x":"","scroll-left":t.scrollLeft}},[t.textFlex?t._e():a("div",t._l(t.tabList,function(e,i){return a("div",{key:i,staticClass:"wuc-tab-item",attrs:{id:i},on:{click:function(e){e=t.$handleEvent(e),t.tabSelect(i,e)}}},[a("v-uni-text",{class:e.icon}),a("span",{class:[i===t.tabCur?t.selectClass+" cur":""]},[t._v(t._s(e.cakeclassminName))])],1)}),0),t.textFlex?a("div",{staticClass:"flex text-center"},t._l(t.tabList,function(e,i){return a("div",{key:i,staticClass:"wuc-tab-item flex-sub",class:i===t.tabCur?t.selectClass+" cur":"",attrs:{id:i},on:{click:function(e){e=t.$handleEvent(e),t.tabSelect(i,e)}}},[a("v-uni-text",{class:e.icon}),a("span",[t._v(t._s(e.cakeclassminName))])],1)}),0):t._e()])},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},b875:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".cake-card-mini-box[data-v-f7f59fec]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}\n/* .swiper{\n\twidth: 100%;\n\theight: 100%;\n\tposition: absolute;\n\tpadding-top: 200upx;\n} */",""])},d2f3:function(t,e,a){var i=a("6704");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("a6ef2c6a",i,!0,{sourceMap:!1,shadowMode:!1})},db6c:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"div[data-v-7c3e87a4],uni-scroll-view[data-v-7c3e87a4],uni-swiper[data-v-7c3e87a4]{display:block;font-size:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box}.wuc-tab[data-v-7c3e87a4]{padding:0 %?10?%;\r\n\t/* border-top: 5px solid #F2F2F2; */white-space:nowrap}.wuc-tab-item[data-v-7c3e87a4]{height:%?90?%;display:inline-block;line-height:%?90?%;margin:0 %?10?%;padding:0 %?0?%}.wuc-tab-item span[data-v-7c3e87a4]{-webkit-box-sizing:border-box;box-sizing:border-box;margin-left:%?20?%;padding:%?10?% %?30?%;background-color:#e8e8e8;border-radius:%?100?%}.wuc-tab-item .cur[data-v-7c3e87a4]{-webkit-box-sizing:border-box;box-sizing:border-box;padding:%?10?% %?30?%;background-color:#ff1850;border-radius:%?100?%}.wuc-tab.fixed[data-v-7c3e87a4]{position:fixed;width:100%;top:0;z-index:1024;-webkit-box-shadow:0 %?1?% %?6?% rgba(0,0,0,.1);box-shadow:0 %?1?% %?6?% rgba(0,0,0,.1)}.flex[data-v-7c3e87a4]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.text-center[data-v-7c3e87a4]{text-align:center}.text-left[data-v-7c3e87a4]{text-align:left}.flex-sub[data-v-7c3e87a4]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.text-blue[data-v-7c3e87a4]{color:#0081ff}.text-white[data-v-7c3e87a4]{color:#fff}.bg-white[data-v-7c3e87a4]{background-color:#fff}.bg-blue[data-v-7c3e87a4]{background-color:#0081ff}.text-orange[data-v-7c3e87a4]{color:#f37b1d}.text-pink[data-v-7c3e87a4]{color:#ff1850}.text-xl[data-v-7c3e87a4]{font-size:%?20?%}",""])},df7b:function(t,e,a){"use strict";a.r(e);var i=a("a531"),n=a("8264");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("58c8");var o=a("2877"),c=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"d2a15a2e",null);e["default"]=c.exports},e1b4:function(t,e,a){"use strict";var i=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("ac6a");var n=i(a("07f2")),s=i(a("df7b")),o=i(a("47c3")),c=i(a("eb8c")),l=i(a("d833")),r=i(a("034c")),u=i(a("eadf")),d={components:{uniNavBar:n.default,WucTab:s.default,WucTab1:o.default,cakeCardMini:c.default,mescrollUni:l.default,cakeInfomationBar:r.default,popupLayer:u.default},data:function(){return{httpDataUrl:this.$httpUrl.dataUrl,httpStaticUrl:this.$httpUrl.staticUrl,scrollviewHigh:0,cakeinfomation:{},cakeInfomationOnShow:!1,tabList1:[{name:"经典"},{name:"女神"},{name:"蜜糖"},{name:"伴手礼"}],TabCur1:0,tabList2:[{name:"经典2"},{name:"女神2"},{name:"蜜糖2"},{name:"蜜糖2"},{name:"伴手礼2"}],TabCur2:0,mescroll:[],tempFlag:0,New:[],downOption:{use:!0,auto:!0},upOption:[{use:!0,auto:!1,page:{num:0,size:8},noMoreSize:5,empty:{tip:"暂无相关数据"}}],dataList:[]}},onLoad:function(){var t=this;uni.request({url:this.httpDataUrl+"/cakeClass/getAllCakeClass",success:function(e){t.tabList1=e.data.data,t.upOption=[],t.tabList1.forEach(function(e,a){t.requestCakeByClassMinId(a,0),t.upOption.push({use:!0,auto:!1,page:{num:0,size:8},noMoreSize:5,empty:{tip:"暂无相关数据"}})}),t.requestClass2(t.tabList1[0].cakeclassId)}})},onShow:function(){},onReady:function(){var t=this;console.log("onReady----start"),uni.getSystemInfo({success:function(e){t.phoneHeight=e.windowHeight,console.log(e.windowHeight);var a=uni.createSelectorQuery().select("#header"),i=uni.createSelectorQuery().select("#header1");a.boundingClientRect(function(e){console.log(e),t.navHeight=e.height,console.log("scrollviewHigh:  "+t.scrollviewHigh)}).exec(),i.boundingClientRect(function(e){console.log(e),t.navHeight=t.navHeight+e.height,t.scrollviewHigh=t.phoneHeight-t.navHeight;var a=t.phoneHeight-t.navHeight;console.log("scrollviewHigh:  "+a)}).exec()}}),console.log("onReady----stop")},methods:{tabChange1:function(t){this.TabCur1=t,this.TabCur2=0,this.requestClass2(this.tabList1[t].cakeclassId),console.log("点击"),this.downCallback(this.mescroll[this.TabCur1])},swiperChange1:function(t){var e=t.target.current;this.TabCur1=e,console.log("滑动"),this.requestClass2(this.tabList1[this.TabCur1].cakeclassId),this.downCallback(this.mescroll[this.TabCur1])},tabChange2:function(t){this.TabCur2=t,this.New[this.TabCur1]=[],this.downCallback(this.mescroll[this.TabCur1])},swiperChange2:function(t){var e=t.target.current;this.TabCur2=e},requestClass2:function(t){var e=this;this.tabList2=[],uni.request({url:this.httpDataUrl+"/cakeClassMin/getAllCakeClassMinByClassId",data:{cakeclassminClassid:t},success:function(a){e.tabList2=a.data.data,e.tabList2.unshift({cakeclassminId:0,cakeclassminClassid:t,cakeclassminName:"全部",cakeclassminInfo:""})}})},requestCakeByClassMinId:function(t,e){var a=this;this.New[t]=[],0==e?uni.request({url:this.httpDataUrl+"/cakeInfo/getAllCakeInfoByClassId",data:{cakeClassid:this.tabList1[t].cakeclassId,page:1,limit:8},success:function(e){a.New[t]=e.data.data,a.$forceUpdate()}}):uni.request({url:this.httpDataUrl+"/cakeInfo/getAllCakeInfoByClassMinId",data:{cakeClassminid:e,page:1,limit:8},success:function(e){a.New[t]=e.data.data,a.$forceUpdate()}})},downCallback:function(t){this.tempFlag++,this.tempFlag<=this.tabList1.length&&(this.mescroll.push(t),console.log(this.tempFlag));console.log(this.tabList1[this.TabCur1]),t.resetUpScroll()},upCallback:function(t){console.log("upCallback: ----start :"),console.log(t);var e=t.num,a=t.size,i=this;console.log(e+" "+a),setTimeout(function(){0==i.tabList2[i.TabCur2].cakeclassminId?uni.request({url:i.httpDataUrl+"/cakeInfo/getAllCakeInfoByClassId",data:{cakeClassid:i.tabList1[i.TabCur1].cakeclassId,page:e,limit:a},success:function(e){var a=e.data.data,n=e.data.count;1==t.num&&(i.New[i.TabCur1]=[]),i.New[i.TabCur1]=i.New[i.TabCur1].concat(a),console.log(i.New[i.TabCur1]),t.endBySize(a.length,n)},fail:function(){t.endErr()},complete:function(){i.$forceUpdate()}}):uni.request({url:i.httpDataUrl+"/cakeInfo/getAllCakeInfoByClassMinId",data:{cakeClassminid:i.tabList2[i.TabCur2].cakeclassminId,page:e,limit:a},success:function(e){var a=e.data.data,n=e.data.count;1==t.num&&(i.New[i.TabCur1]=[]),i.New[i.TabCur1]=i.New[i.TabCur1].concat(a),console.log(i.New[i.TabCur1]),t.endBySize(a.length,n)},fail:function(){t.endErr()},complete:function(){i.$forceUpdate()}})},1e3),console.log("upCallback: ----stop :")},pupopOpen:function(t){this.cakeInfomationOnShow=!0,this.cakeinfomation=t,this.$refs.popupRef.show(),this.$refs.infomationBar.Initialization()},pupopClose:function(){this.cakeInfomationOnShow=!1,this.$refs.popupRef.close()}},onHide:function(){this.$refs.popupRef.close()}};e.default=d},f885:function(t,e,a){var i=a("db6c");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("dcbe627e",i,!0,{sourceMap:!1,shadowMode:!1})}}]);